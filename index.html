<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Foundations: Rock - Paper - Scissors</title>
</head>
<body>

    <div id="game">
        <h1>Choose an option</h1>
        <div class="buttons">
            <button class="button-option" id="rock-btn"><img src="rockfinal.png" alt="piedra"></button>
            <button class="button-option" id="paper-btn"><img src="paperfinal.png" alt="papel"></button>
            <button class="button-option" id="scissors-btn"><img src="scissorsfinal.png" alt="tijera"></button>
        </div>
    </div>

    <div id="game-display">

    </div>

    <div id="score-display">
        <h2>Score</h2>
        <h3>Player</h3>
        <h4 id="human-score">
            0
        </h4>
        <h3>Computer</h3>
        <h4 id="computer-score">
            0
        </h4>
    </div>

    <div id="endgame-result">

    </div>


    <script>
        let humanScore = 0;
        let computerScore = 0;
        

        function getComputerChoice(){
            let cpu = Math.floor(Math.random() * 3);
            let computerChoice;
            if (cpu == 0){
                computerChoice= "Rock"
            }else if (cpu == 1){
                computerChoice= "Paper"
            }else{
                computerChoice= "Scissors"
            }
            return computerChoice
        }
        
        
        
        function getHumanChoice(option){
            let humanInput=option;
            const firstLetter = humanInput.charAt(0);
            const slicedPart = humanInput.slice(1);
            humanChoice = firstLetter.toUpperCase() + slicedPart.toLowerCase();
            return humanChoice 

        }

        function playRound(humanChoice, computerChoice){
            const gameOptions = document.getElementById('game');
            const choiceDisplay = document.getElementById('game-display');
            const humanScoreChange = document.getElementById('human-score');
            const computerScoreChange = document.getElementById('computer-score');
            const endgameResult = document.getElementById('endgame-result');
            choiceDisplay.innerHTML = "";
            const choiceLog1 = document.createElement('h2');
            const choiceLog2 = document.createElement('h2');
            const choiceLog3 = document.createElement('h2');
            const choiceLog4 = document.createElement('h2');
            const endgame = document.createElement('h1');
            choiceLog1.id='msg1'
            choiceLog2.id='msg2'
            choiceLog3.id='msg3'
            choiceLog4.id='msg4'
            endgame.id='msg5'
            choiceDisplay.appendChild(choiceLog1); 
            choiceLog1.innerText=`You chose ${humanChoice} and the computer chose ${computerChoice}.`;           
            if (humanChoice === computerChoice) {
            choiceDisplay.appendChild(choiceLog2);
            choiceLog2.innerText=`${humanChoice} vs ${computerChoice}. It's a tie!`;

            }else if ((humanChoice == "Rock" && computerChoice == "Scissors") || 
                      (humanChoice == "Paper" && computerChoice == "Rock") || 
                      (humanChoice == "Scissors" && computerChoice == "Paper")
            ){
            choiceDisplay.appendChild(choiceLog3);
            choiceLog3.innerText= `${humanChoice} beats ${computerChoice}. You win this round!`;
            humanScore++;
            humanScoreChange.innerText=`${humanScore}`;
            }else{
            choiceDisplay.appendChild(choiceLog4);
            choiceLog4.innerText= `${computerChoice} beats ${humanChoice}. You lose this round!`;
            computerScore++;
            computerScoreChange.innerText=`${computerScore}`;
            }

            if (humanScore>=5) {

                endgameResult.appendChild(endgame);
                endgame.innerText=`Game Over. You win!`;
                gameOptions.innerHTML='';
                choiceDisplay.innerHTML='';
                const linkbtn = document.createElement('a');
                const replay = document.createElement('button');
                endgameResult.appendChild(linkbtn);
                linkbtn.appendChild(replay);
                linkbtn.href='./index.html'
                replay.id='replay-btn'
                replay.innerText='Play again';
                
            }else if(computerScore>=5){
                endgameResult.appendChild(endgame);
                endgame.innerText=`Game Over. You lose...`;
                gameOptions.innerHTML='';
                choiceDisplay.innerHTML='';
                const linkbtn = document.createElement('a');
                const replay = document.createElement('button');
                endgameResult.appendChild(linkbtn);
                linkbtn.appendChild(replay);
                linkbtn.href='./index.html'
                replay.id='replay-btn'
                replay.innerText='Play again';
                

            }

        }

        function playGame(){
            
            let humanScore = 0;
            let computerScore = 0;
          
        }
        let op=0
        
        console.log("Developed by Mirko Sandoval")
        
        btnRock = document.getElementById('rock-btn');
        btnRock.addEventListener('click', function(){
            humanSelection = getHumanChoice("Rock");
            computerSelection = getComputerChoice();
            playRound(humanSelection, computerSelection);
            
        })

        btnPaper = document.getElementById('paper-btn');
        btnPaper.addEventListener('click', function(){
            humanSelection = getHumanChoice("Paper");
            computerSelection = getComputerChoice();
            playRound(humanSelection, computerSelection);
            
        })

        btnScissors = document.getElementById('scissors-btn');
        btnScissors.addEventListener('click', function(){
            humanSelection = getHumanChoice("Scissors");
            computerSelection = getComputerChoice();
            playRound(humanSelection, computerSelection);
            
        })


    </script>
    
</body>
</html>